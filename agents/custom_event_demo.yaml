# Custom Event Demo Agent 配置
# 此配置演示如何设置处理自定义事件的代理

agent:
  name: "自定义事件演示代理"
  id: "custom-event-demo"
  description: "一个演示自定义事件处理的代理"
  
  # 代理类 - 可以是内置类型或自定义类
  class: "custom_event_demo.CustomEventDemoAgent"

  
  # 代理的默认参数
  params:
    default_channel: "general"
    event_timeout: 30
  
  # 代理行为的配置
  config:
    auto_reply_to_mentions: true
    auto_mention_response: true
    log_level: "INFO"
    
  # 自定义事件处理器配置
  # 注意：实际上，事件处理器在Python代码中用@on_event装饰器定义
  # 此部分显示了如何概念性地配置自定义事件行为
  event_handlers:
    # 处理'custom.hello_world'的自定义事件
    - event: "custom.hello_world"
      handler: "handle_custom_hello_world"
      description: "通过给输入文本添加前缀来处理自定义hello world事件"
      enabled: true
    
    # 处理文本处理的自定义事件
    - event: "demo.text.process"
      handler: "handle_demo_text_process"
      description: "使用各种操作（大写、小写、反转）处理文本"
      enabled: true
      
    # 处理菜谱请求的自定义事件
    - event: "recipe.request"
      handler: "handle_recipe_request"
      description: "通过生成菜谱详细信息处理菜谱请求"
      enabled: true

  # 内置事件处理器（这些由WorkerAgent基类自动注册）
  builtin_handlers:
    - event: "thread.channel_message.notification"
      description: "处理频道消息"
      enabled: true
      
    - event: "thread.direct_message.notification"
      description: "处理直接消息"
      handler: "on_direct_message_notification"
      enabled: true
      
    - event: "thread.reaction.notification"
      description: "处理消息反应"
      enabled: true

# 此代理的网络配置
network:
  transports:
    - type: "http"
      config:
        port: 8700
    - type: "grpc"
      config:
        port: 8600

# 工作区配置
workspace:
  mods:
    - name: "openagents.mods.workspace.messaging"
      enabled: true
      config:
        default_channels:
          - name: "general"
            description: "通用讨论频道"
          - name: "custom-events"
            description: "自定义事件讨论频道"
          - name: "#生成菜谱卡片"
            description: "菜谱卡片生成频道"